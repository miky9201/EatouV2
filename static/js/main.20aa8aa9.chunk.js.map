{"version":3,"sources":["context/FilterContext.js","context/GoogleMapBoundsContext.js","context/CommentContext.js","context/StarsContext.js","context/ModalContext.js","context/LoadingContext.js","context/ClickedLatLngContext.js","context/RestaurantListContext.js","context/CurrentPositionContext.js","image/eatou-yellow.png","component/Header.js","component/Filter.js","component/CommentDisplayer.js","component/Form/Form.js","component/Form/TextArea.js","component/Form/Select.js","component/Form/Button.js","component/Form/Option.js","component/CommentAdder.js","utils/restaurantStarsAverage.js","component/RestaurantCard.js","config.js","utils/getAddress.js","utils/getStreetViewImg.js","utils/isRestaurantAverageMoreThanFilterValue.js","component/RestaurantDisplayer.js","utils/areRestaurantsVisibleInMap.js","utils/restaurantBuilder.js","component/AddRestaurantForm.js","component/Modal.js","component/Loading.js","utils/getFoursquarePlaces.js","component/GoogleMapContainer.js","image/eatou-favicon.png","App.js","serviceWorker.js","index.js"],"names":["FilterContext","createContext","FilterProvider","props","useState","filterValue","setFilterValue","Provider","value","children","GoogleMapBoundsContext","GoogleMapBoundsProvider","mapBoundsValue","setMapBoundsValue","CommentContext","CommentProvider","commentValue","setCommentValue","StarsContext","StarsProvider","starValue","setStarValue","ModalContext","ModalProvider","modalStateDisplayed","changeModalStateDisplayed","LoadingContext","LoadingProvider","loadingStateDisplayed","changeLoadingStateDisplayed","ClickedLatLngContext","ClickedLatLngProvider","clickedLatLng","setClickedLatLng","RestaurantListContext","RestaurantListProvider","restaurantListJSON","restaurantList","setRestaurantList","CurrentPositionContext","CurrentPositionProvider","currentPosition","setCurrentPosition","Header","className","id","src","logo","alt","Filter","useContext","htmlFor","onChange","e","target","CommentDisplayer","comment","Form","onSubmit","TextArea","name","labelValue","Select","options","map","option","Button","type","Option","label","FORM_OPTIONS","CommentAdder","restaurant","showCommentEditor","setShowCommentEditor","arr","star","preventDefault","ratings","push","stars","onClick","restaurantStarsAverage","index","starsSum","length","parseFloat","toFixed","RestaurantCard","showComment","setShowComment","streetview","restaurantName","address","item","i","GOOGLE_MAP_KEY","getAddress","fetch","location","lat","lng","then","res","json","results","formatted_address","getStreetViewImg","url","isRestaurantAverageMoreThanFilterValue","rating","RestaurantDisplayer","useEffect","forEach","mapBounds","s","n","o","areRestaurantsVisibleInMap","restaurantBuilder","a","AddRestaurantForm","toggle","titleValue","setTitleValue","addNewRestaurant","title","restaurants","Array","from","alert","class","Modal","Loading","color","getFoursquarePlaces","response","groups","items","venue","GoogleMapContainer","selected","setSelected","setMap","onLoad","useCallback","mapInit","position","coords","latitude","longitude","foursquareRestaurants","navigator","geolocation","getCurrentPosition","undefined","googleMapsApiKey","mapContainerStyle","width","height","center","zoom","onBoundsChanged","getBounds","lc","g","Eb","latLng","onSelect","clickable","onCloseClick","icon","App","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","headers","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.20aa8aa9.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\n\nexport const FilterContext = createContext();\n\nexport const FilterProvider = (props) => {\n      const [filterValue, setFilterValue] = useState(0);\n      return(\n            <FilterContext.Provider value={[filterValue, setFilterValue]}>\n                  {props.children}\n            </FilterContext.Provider>\n      )\n}\n\n      ","import React, { useState, createContext } from 'react';\n\nexport const GoogleMapBoundsContext = createContext();\n\nexport const GoogleMapBoundsProvider = (props) => {\n      const [mapBoundsValue, setMapBoundsValue] = useState({});\n      return(\n            <GoogleMapBoundsContext.Provider value={[mapBoundsValue, setMapBoundsValue]}>\n                  {props.children}\n            </GoogleMapBoundsContext.Provider>\n      )\n}\n\n      ","import React, { useState, createContext } from 'react';\n\nexport const CommentContext = createContext();\n\nexport const CommentProvider = (props) => {\n      const [commentValue, setCommentValue] = useState(null);\n      return(\n            <CommentContext.Provider value={[commentValue, setCommentValue]}>\n                  {props.children}\n            </CommentContext.Provider>\n      )\n}\n      ","import React, { useState, createContext } from 'react';\n\nexport const StarsContext = createContext();\n\nexport const StarsProvider = (props) => {\n      const [starValue, setStarValue] = useState(0);\n      return(\n            <StarsContext.Provider value={[starValue, setStarValue]}>\n                  {props.children}\n            </StarsContext.Provider>\n      )\n}","import React, { useState, createContext } from 'react';\n\nexport const ModalContext = createContext();\n\nexport const ModalProvider = (props) => {\n      const [modalStateDisplayed, changeModalStateDisplayed] = useState(false);\n\n      return(\n            <ModalContext.Provider value={[modalStateDisplayed, changeModalStateDisplayed]}>\n                  {props.children}\n            </ModalContext.Provider>\n      )\n}\n      ","import React, { useState, createContext } from 'react';\n\nexport const LoadingContext = createContext();\n\nexport const LoadingProvider = (props) => {\n      const [loadingStateDisplayed, changeLoadingStateDisplayed] = useState(true);\n\n      return(\n            <LoadingContext.Provider value={[loadingStateDisplayed, changeLoadingStateDisplayed]}>\n                  {props.children}\n            </LoadingContext.Provider>\n      )\n}\n      ","import React, { useState, createContext } from 'react';\n\nexport const ClickedLatLngContext = createContext();\n\nexport const ClickedLatLngProvider = (props) => {\n      const [clickedLatLng, setClickedLatLng] = useState({});\n      return(\n            <ClickedLatLngContext.Provider value={[clickedLatLng, setClickedLatLng]}>\n                  {props.children}\n            </ClickedLatLngContext.Provider>\n      )\n}","import React, { useState, createContext } from 'react';\nimport restaurantListJSON from '../restaurants.json';\n\nexport const RestaurantListContext = createContext();\n\nexport const RestaurantListProvider = (props) => {\n      const [ restaurantList, setRestaurantList ] = useState(restaurantListJSON)\n\n      return(\n            <RestaurantListContext.Provider value={[restaurantList, setRestaurantList]}>\n                  {props.children}\n            </RestaurantListContext.Provider>\n      )\n}\n      ","import React, { useState, createContext } from 'react';\n\nexport const CurrentPositionContext = createContext();\n\nexport const CurrentPositionProvider = (props) => {\n      const [ currentPosition, setCurrentPosition ] = useState();\n      return(\n            <CurrentPositionContext.Provider value={[currentPosition, setCurrentPosition]}>\n                  {props.children}\n            </CurrentPositionContext.Provider>\n      )\n}\n\n      ","export default __webpack_public_path__ + \"static/media/eatou-yellow.0993e86f.png\";","import React from 'react';\nimport logo from '../image/eatou-yellow.png';\n\nconst Header = () => {\n\n      return (\n            <div className=\"header flex-col-center-center\">\n                  <img id=\"logo\" src={logo} alt=\"Logo Eatou\"/>\n                  <h1>Eatou</h1>\n                  <p>Bien manger partout !</p>            \n            </div>\n      )\n}\n\nexport default Header;","import React, { useContext } from 'react';\n\nimport { FilterContext } from '../context/FilterContext';\n\nconst Filter = () => {\n      const [ filterValue, setFilterValue ] = useContext(FilterContext);\n      \n      const handleChange = (e) => {\n            setFilterValue(e.target.value);\n      }\n\n      return(\n            <div className=\"filter yellow flex-col-center-center\">\n                  <label htmlFor=\"star-select\">Une exigence sur la qualité de la cuisine ?</label>\n                  <form>\n                        <select value={filterValue} onChange={handleChange}>\n                              <option value=\"0\">Tous les restaurants</option>\n                              <option value=\"1\">1 étoile</option>\n                              <option value=\"2\">2 étoiles</option>\n                              <option value=\"3\">3 étoiles</option>\n                              <option value=\"4\">4 étoiles</option>\n                              <option value=\"5\">5 étoiles</option>\n                        </select>\n                  </form>\n            </div>\n      )\n}\n\nexport default Filter;","import React from 'react';\n\nconst CommentDisplayer = ({comment}) => <p>{comment}</p>\n      \nexport default CommentDisplayer;\n","import React from 'react';\n\nconst Form = ({ onSubmit, className, children }) => {\n      return(\n            <form onSubmit={onSubmit} className={className}>\n                  {children}\n            </form>\n      )\n}\n\nexport default Form;","import React from 'react';\n\nconst TextArea = ({ className, name, labelValue, onChange }) => {\n      return(\n            <>\n                  <label className={className} htmlFor={name}>{labelValue}</label>\n                  <textarea id={name} onChange={onChange} name={name}>\n                  </textarea>\n            </>\n      )\n}\n\nexport default TextArea;","import React from 'react';\n\nconst Select = ({ className, name, labelValue, value, onChange, options }) => {\n      return(\n            <>\n                  <label className={className} htmlFor={name}>{labelValue}</label>\n                  <select id={name} value={value} onChange={onChange}>\n                        {options.map(option => option)}\n                   </select>\n            </>\n      )\n}\n\nexport default Select;","import React from 'react';\n\nconst Button = ({ className, name, value }) => <input className={className} type={name} value={value} />\n\nexport default Button;","import React from 'react';\n\nconst Option = ({ label, value }) => <option value={value}>{label}</option>\n\nexport default Option","import React, { useContext } from 'react';\n\nimport { CommentContext } from '../context/CommentContext';\nimport { StarsContext } from '../context/StarsContext';\n\nimport Form from './Form/Form';\nimport TextArea from './Form/TextArea';\nimport Select from './Form/Select';\nimport Button from './Form/Button';\nimport Option from './Form/Option';\n\nconst FORM_OPTIONS = [\n      <Option key={0} value={0} label=\"0 étoiles\" />,\n      <Option key={1} value={1} label=\"1 étoiles\" />,\n      <Option key={2} value={2} label=\"2 étoiles\" />,\n      <Option key={3} value={3} label=\"3 étoiles\" />,\n      <Option key={4} value={4} label=\"4 étoiles\" />,\n      <Option key={5} value={5} label=\"5 étoiles\" />,\n]\n\nconst CommentAdder = ({restaurant, showCommentEditor, setShowCommentEditor}) => {\n\n      const [ commentValue, setCommentValue ] = useContext(CommentContext);\n      const [ starValue, setStarValue ] = useContext(StarsContext);\n\n      const pushNewComment = (arr, comment, star) => {\n            arr.push({\n                  comment: comment,\n                  stars: star\n            });\n      }\n\n      const handleSubmit = (e) => {\n            e.preventDefault();\n            pushNewComment(restaurant.ratings, commentValue, starValue);\n            setCommentValue(\"\");\n            setShowCommentEditor(false);\n      }\n\n      const handleCommentChange = (e) => {\n            setCommentValue(e.target.value);\n      }\n\n      const handleStarChange = (e) => {\n            setStarValue(e.target.value);\n      }\n\n      return( \n            <Form onSubmit={handleSubmit} className=\"comment-adder flex-col-spacearound-center yellow\">\n                  <div className=\"button-div\">\n                        <button className=\"x-button\" onClick={() => setShowCommentEditor(!showCommentEditor)}>x</button>\n                  </div>\n                  <TextArea onChange={handleCommentChange} className=\"mb-5\" name=\"comment\" labelValue={\"Ajouter un commentaire\"} />\n                  <Select value={starValue} onChange={handleStarChange} className=\"mb-5\" name=\"star\" options={FORM_OPTIONS}/>\n                  <Button className=\"display-comment-button\" name=\"submit\" value=\"Soumettre\"/>\n            </Form>\n      )\n}\n\nexport default CommentAdder;","export const restaurantStarsAverage = (arr) => {\n      let starsSum = 0, index;\n\n      for (index = 0; index < arr.length; index++) {\n            starsSum += parseFloat(arr[index]);\n      }\n\n      return (starsSum/arr.length).toFixed(2);\n};\n","import React, { useState } from 'react';\n\nimport CommentDisplayer from './CommentDisplayer';\nimport CommentAdder  from \"./CommentAdder\";\n\nimport { restaurantStarsAverage } from '../utils/restaurantStarsAverage';\n\n\nconst RestaurantCard = ({ restaurant }) => {\n\n      const [ showComment, setShowComment ] = useState(false);\n      const [ showCommentEditor, setShowCommentEditor ] = useState(false);\n\n      return(\n                  <div key={restaurant.id} className=\"card\">\n                        <img id=\"imgRestaurant\" src={restaurant.streetview} alt={restaurant.restaurantName}/>\n                        <h2 className=\"mb-5\">{restaurant.restaurantName}</h2>\n                        <p>{restaurant.address}<br/><br/>\n                              <strong>Note :</strong> {restaurantStarsAverage(restaurant.ratings.map((item => item.stars)))}/5\n                        </p>\n                        <div className=\"darkgrey comment-displayer\">\n                              {showComment && restaurant.ratings.map((item, i) =>\n                                    <CommentDisplayer key={i} comment={item.comment} />\n                              )}\n                        </div>\n                        <div className=\"button-container flex-col-spacearound-center\">\n                              <button className=\"display-comment-button mb-15\" onClick={() => setShowComment(!showComment)} >\n                                    {!showComment ? 'Afficher les Commentaires' :  'Cacher les Commentaires'}\n                              </button>                                          \n                              {!showCommentEditor &&\n                                    <button className=\"add-comment-button mb-15\" onClick={() => setShowCommentEditor(!showCommentEditor)}>\n                                          Ajouter un Commentaire\n                                    </button>\n                              }\n                        </div>\n                        {showCommentEditor && \n                              <CommentAdder restaurant={restaurant} \n                              showCommentEditor={showCommentEditor} \n                              setShowCommentEditor={setShowCommentEditor}/>\n                        }    \n                  </div>\n      )\n}\n\nexport default RestaurantCard;\n","export const GOOGLE_MAP_KEY = \"AIzaSyArU8uSLFz-bJIUY_jWrYz7SRKHw2pPUuU\";\nexport const FOURSQUARE_CLIENT_ID = \"CPSJIZVAFMU5TYHY01C2VNSZOJHZLWSVLUOOVLQYITJL250O\";\nexport const FOURSQUARE_CLIENT_SECRET = \"BOTQMEKLZJKEIBT0UYJKOBLP1FCXPMLVZNFTP4SGKFRP0QZX\";","import { GOOGLE_MAP_KEY } from '../config';\n\nexport const getAddress = item => fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${item.location.lat},${item.location.lng}&key=${GOOGLE_MAP_KEY}`)\n    .then(res => res.json())\n    .then(res => item.address = res.results[0].formatted_address);\n","import { GOOGLE_MAP_KEY } from '../config';\n\nexport const getStreetViewImg = item => fetch(`https://maps.googleapis.com/maps/api/streetview?size=500x400&location=${item.location.lat},${item.location.lng}&key=${GOOGLE_MAP_KEY}`)\n      .then(res => item.streetview = res.url);\n","import { restaurantStarsAverage } from \"./restaurantStarsAverage\";\n\nexport const isRestaurantAverageMoreThanFilterValue = (restaurant, filterValue) => \nrestaurantStarsAverage(restaurant.ratings.map((rating => rating.stars))) >= filterValue\n","import React, { useContext, useEffect } from 'react';\nimport RestaurantCard from './RestaurantCard';\n\nimport { FilterContext } from '../context/FilterContext';\nimport { GoogleMapBoundsContext } from '../context/GoogleMapBoundsContext';\nimport { RestaurantListContext } from '../context/RestaurantListContext';\n\nimport { getAddress } from '../utils/getAddress';\nimport { getStreetViewImg } from '../utils/getStreetViewImg';\nimport { isRestaurantAverageMoreThanFilterValue } from '../utils/isRestaurantAverageMoreThanFilterValue';\nimport { areRestaurantsVisibleInMap } from '../utils/areRestaurantsVisibleInMap';\n\nconst RestaurantDisplayer = () => {\n      const [ filterValue ] = useContext(FilterContext);\n      const [ mapBoundsValue ] = useContext(GoogleMapBoundsContext);\n      const [ restaurantList ] = useContext(RestaurantListContext);\n      \n      useEffect(() => {\n            restaurantList.forEach(restaurant => {\n                  getStreetViewImg(restaurant);\n                  getAddress(restaurant);\n            });\n      }, [restaurantList]);\n \n      return (\n            restaurantList.map(restaurant => isRestaurantAverageMoreThanFilterValue(restaurant, filterValue) \n            && areRestaurantsVisibleInMap(restaurant, mapBoundsValue) ? \n                  <RestaurantCard key={restaurant.id} restaurant={restaurant} /> \n                  : null\n            )\n      )\n}\n\nexport default RestaurantDisplayer;\n","export const areRestaurantsVisibleInMap = (restaurant, mapBounds) => mapBounds.s < restaurant.location.lat && \nrestaurant.location.lat < mapBounds.n && mapBounds.o < restaurant.location.lng && \nrestaurant.location.lng < mapBounds.e\n      \n\n","import { getAddress } from './getAddress';\nimport { getStreetViewImg } from './getStreetViewImg'; \n\nexport const restaurantBuilder = async (id, name, lat, lng, star, comment) => {\n      const restaurant = {\n            id: id,\n            restaurantName: name,\n            location: {\n                  lat: lat,\n                  lng: lng\n            },\n            ratings : [\n                  {\n                        stars: star,\n                        comment: comment\n                  }\n            ]\n      }\n      await getAddress(restaurant);\n      await getStreetViewImg(restaurant)\n      return restaurant\n}","import React, { useState, useContext } from 'react';\n\nimport { StarsContext } from '../context/StarsContext'\nimport { CommentContext } from '../context/CommentContext';\nimport { ClickedLatLngContext } from '../context/ClickedLatLngContext';\nimport { RestaurantListContext } from '../context/RestaurantListContext';\n\nimport Form from './Form/Form';\nimport TextArea from './Form/TextArea';\nimport Select from './Form/Select';\nimport Button from './Form/Button';\nimport Option from './Form/Option';\n\nimport { restaurantBuilder } from '../utils/restaurantBuilder';\n\nconst FORM_OPTIONS = [\n      <Option key={0} value={0} label=\"0 étoiles\" />,\n      <Option key={1} value={1} label=\"1 étoiles\" />,\n      <Option key={2} value={2} label=\"2 étoiles\" />,\n      <Option key={3} value={3} label=\"3 étoiles\" />,\n      <Option key={4} value={4} label=\"4 étoiles\" />,\n      <Option key={5} value={5} label=\"5 étoiles\" />,\n]\n\nconst AddRestaurantForm =({ toggle }) => {\n\n      const [ starValue, setStarValue ] = useContext(StarsContext);\n      const [ commentValue, setCommentValue ] = useContext(CommentContext);\n      const [clickedLatLng] = useContext(ClickedLatLngContext);\n      const [ restaurantList, setRestaurantList ] = useContext(RestaurantListContext);\n\n      const [ titleValue, setTitleValue ] = useState(\"\");\n\n      const handleTitleChange = (e) => setTitleValue(e.target.value);\n      const handleCommentChange = (e) => setCommentValue(e.target.value);\n      const handleStarChange = (e) => setStarValue(e.target.value);\n\n      const addNewRestaurant = async (title, comment, star) => {\n            if (title) {\n                  const restaurants = Array.from(restaurantList);\n                  const id = restaurants.length + 1;\n                  const location = { lat: clickedLatLng.lat, lng: clickedLatLng.lng };\n                  const restaurant = await restaurantBuilder(id, title, location.lat, location.lng, star, comment);\n\n                  restaurants.push(restaurant)\n                  setRestaurantList(restaurants)\n                  \n            } else {\n                  alert('Merci de donner un titre à votre restaurant !');\n            }      \n      }\n\n      const handleSubmit = (e) => {\n            e.preventDefault();\n            toggle();\n            addNewRestaurant(titleValue, commentValue, starValue);\n            setCommentValue();\n            setStarValue(0);\n      }\n\n      return (\n            <Form onSubmit={handleSubmit} className=\"modal-form comment-adder flex-col-spacearound-center yellow\">\n                  <TextArea onChange={handleTitleChange} class=\"mb-5\" name=\"title\" labelValue={\"Nom du restaurant\"} />\n                  <TextArea onChange={handleCommentChange} class=\"mb-5\" name=\"comment\" labelValue={\"Ajouter un commentaire\"}/>\n                  <Select value={starValue} onChange={handleStarChange} class=\"mb-5\" name=\"star\"options={FORM_OPTIONS}/>\n                  <Button className=\"display-comment-button\" name=\"submit\" value=\"Soumettre\"/>\n            </Form>\n      )\n}\n\nexport default AddRestaurantForm;","import React, { useContext } from 'react';\n\nimport { ModalContext } from '../context/ModalContext';\n\nimport AddRestaurantForm from './AddRestaurantForm';\n\n\nconst Modal = () => {\n\n      const [modalStateDisplayed, changeModalStateDisplayed] = useContext(ModalContext);\n\n      const toggle = () => {\n            changeModalStateDisplayed(!modalStateDisplayed);\n      }\n\n      return(\n            modalStateDisplayed ? (\n                  <div className=\"modal flex-col-center-center\">\n                              <h2>Vous souhaitez ajouter un restaurant ?</h2>\n                              <button className=\"add-comment-button\" onClick={toggle}>Annuler</button>\n                              <AddRestaurantForm toggle={toggle} />\n                  </div> \n            ) \n            : null\n      )\n}\n      \n\nexport default Modal;\n","import React from 'react';\n\nimport ReactLoading from 'react-loading';\n\nimport logo from '../image/eatou-yellow.png';\n\nconst Loading = () => (\n      <div className=\"loading flex-col-center-center darkgrey\">\n            <img id=\"logo\" src={logo} alt=\"Logo Eatou\"/>\n            <h2>Nous recherchons les meilleurs restos à proximité...</h2>\n            <ReactLoading type=\"bars\" color=\"#FFC400\"/>\n      </div>\n)\n\n\nexport default Loading;\n\n","import { FOURSQUARE_CLIENT_ID } from '../config';\nimport { FOURSQUARE_CLIENT_SECRET } from '../config';\n\nimport { restaurantBuilder } from './restaurantBuilder';\n\nexport const getFoursquarePlaces = async (currentPosition) => {\n      const restaurants = []\n\n      await fetch(`https://api.foursquare.com/v2/venues/explore?client_id=${FOURSQUARE_CLIENT_ID}\n      &client_secret=${FOURSQUARE_CLIENT_SECRET}\n      &v=20180323&radius=1500&ll=${currentPosition.lat},${currentPosition.lng}&query=restaurant`)\n            .then(res => res.json())\n            .then(res => res.response.groups[0].items) // tableau des restos\n            .then(async res => {\n\n                  for (let index = 0; index < res.length; index++) {\n                        const id = res[index].venue.id;\n                        const name = res[index].venue.name;\n                        const location = {\n                              lat: res[index].venue.location.lat,\n                              lng: res[index].venue.location.lng\n                        };\n                        const defaultComment = null;\n                        const defaultStar = 2.5;\n\n                        const restaurant = await restaurantBuilder(id, name, location.lat, location.lng, defaultStar, defaultComment)\n\n                        restaurants.push(restaurant)\n                  }\n            })\n\n      return restaurants\n} ","import React, { useState, useCallback, useContext, useEffect } from 'react'\nimport { GoogleMap, LoadScript, Marker, InfoWindow } from '@react-google-maps/api';\nimport icon from '../image/eatou-favicon.png';\nimport { GOOGLE_MAP_KEY } from '../config';\n\nimport { FilterContext } from '../context/FilterContext';\nimport { GoogleMapBoundsContext } from '../context/GoogleMapBoundsContext';\nimport { ModalContext } from '../context/ModalContext';\nimport { LoadingContext } from '../context/LoadingContext';\nimport { ClickedLatLngContext } from '../context/ClickedLatLngContext';\nimport { RestaurantListContext } from '../context/RestaurantListContext';\nimport { CurrentPositionContext } from '../context/CurrentPositionContext';\n\nimport Modal from './Modal';\nimport Loading from './Loading';\n\nimport { isRestaurantAverageMoreThanFilterValue } from '../utils/isRestaurantAverageMoreThanFilterValue';\nimport { getFoursquarePlaces } from '../utils/getFoursquarePlaces';\n\n// If geolocation does not work : Paris Center\nconst DEFAULT_LAT = 48.864716\nconst DEFAULT_LNG = 2.349014\nconst GOOGLE_MAP_ZOOM =  14;\n\nconst GoogleMapContainer = () => {\n      // eslint-disable-next-line\n      const [ mapBoundsValue, setMapBoundsValue ]  = useContext(GoogleMapBoundsContext);\n      const [ filterValue ] = useContext(FilterContext);\n      const [ modalStateDisplayed, changeModalStateDisplayed ] = useContext(ModalContext);\n      const [ loadingStateDisplayed, changeLoadingStateDisplayed ] = useContext(LoadingContext);\n      const [clickedLatLng, setClickedLatLng] = useContext(ClickedLatLngContext);\n      const [restaurantList, setRestaurantList ] = useContext(RestaurantListContext);\n      const [currentPosition, setCurrentPosition] = useContext(CurrentPositionContext);\n\n      const [ selected, setSelected ] = useState({});\n      const [map, setMap] = useState(null); // state containing map datas \n            \n      const containerStyle = {\n            width: '100%',\n            height: '100%'\n      };\n\n      const onSelect = item => {\n            setSelected(item);\n      } \n\n      const onLoad = useCallback(map => {\n            const mapInit = async position => {\n                  const currentPosition = {\n                        lat: position && position.coords ? position.coords.latitude : DEFAULT_LAT,\n                        lng: position && position.coords ? position.coords.longitude : DEFAULT_LNG \n                  }\n                  setCurrentPosition(currentPosition);\n\n                  const foursquareRestaurants = await getFoursquarePlaces(currentPosition)\n                  const restaurants = Array.from(restaurantList)\n                  foursquareRestaurants.forEach(restaurant => {\n                        restaurants.push(restaurant)\n                  })\n                  setRestaurantList(restaurants)\n            }\n            \n            setMap(map);\n            navigator.geolocation.getCurrentPosition(mapInit, mapInit);\n\n      }, [restaurantList, setCurrentPosition, setRestaurantList]);\n      \n\n      const getMapBounds = () => {\n            if (map && map.getBounds()) { \n                  // Sometimes GoogleMaps bounds keys change, i keep this console.log below to get the new ones.\n                  //console.log(map.getBounds()) \n                  setMapBoundsValue({ \n                         n: map.getBounds().lc.i, \n                         s: map.getBounds().lc.g, \n                         e: map.getBounds().Eb.i, \n                         o: map.getBounds().Eb.g \n                  });\n            }          \n      }\n\n      const addRestaurant = (e) => {\n            changeModalStateDisplayed(!modalStateDisplayed);\n            setClickedLatLng({\n                  lat: e.latLng.lat(), \n                  lng: e.latLng.lng()\n            });\n      }\n\n      useEffect(() => {\n            if(currentPosition !== undefined) {\n                  changeLoadingStateDisplayed(false);\n            }\n      }, [currentPosition, changeLoadingStateDisplayed])\n\n      return (\n            <LoadScript googleMapsApiKey={GOOGLE_MAP_KEY} >              \n                  <GoogleMap\n                        onLoad={onLoad}\n                        mapContainerStyle={containerStyle}\n                        center={currentPosition}\n                        zoom={GOOGLE_MAP_ZOOM}\n                        onBoundsChanged={getMapBounds}\n                        onClick={addRestaurant}\n                  >     \n                        {restaurantList.map(item => isRestaurantAverageMoreThanFilterValue(item, filterValue) ?\n                              <Marker key={item.id} position={item.location} onClick={() => onSelect(item)}/> \n                              : null\n                        )} \n\n                        {selected.location && (\n                              <InfoWindow position={selected.location} clickable={true} onCloseClick={() => setSelected({})}>\n                                    <div>\n                                          <h2>{selected.restaurantName}</h2>\n                                          <img width=\"300px\" src={selected.streetview} alt=\"restaurant\"/>\n                                          <p>{selected.address}</p>\n                                          <h4>Commentaires :</h4> \n                                          {selected.ratings.map((item, i) => <p key={i}>{item.comment}</p>)}\n                                    </div>\n                              </InfoWindow>\n                        )}\n\n                        {currentPosition && ( \n                              <Marker position={currentPosition} icon={icon}/>\n                        )}\n                        \n                  </GoogleMap>\n                  {loadingStateDisplayed ? <Loading /> : null}    \n                  <Modal clickedLatLng={clickedLatLng} />  \n            </LoadScript>\n      )    \n}\n\nexport default GoogleMapContainer;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABKgAAASoBhIydXwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAPLSURBVFiFxddPqFVVFAbw377qE1LUwBAVa9AgDNTSEpyUGMmLRyihRP/EP2TRpFEQwiMNB6lUNDEEwYmRUoOiSJvYC4LKSVgDRQ3qlZgNKt+j7JW2G5x15Hg85159FS1YnHv2/vb6vrv32vusnXLOrsVSSpOxAqswH7PD4Wz4cbyLIznnsWuK20tASmkWXsDjyDiMozgTDnPDl6IfCfuxLed8rlv8ThfivpTSIE7jdqzBTKzDZwG7O1y0rQvMmhhzOqU0mFLqa1WQc77KMQuf4CQGom0Ab2E0ZqLJRwNTHXMyYs1q5GogX4BhHMJ0LMZQF9I2H4qx0yPWMBZ0FRD/fBh7MAEbMTYO8tLHIsaEiDlcn4kqeV9M1aEYsP0fENd9e8Q8FBx9TQIGY72mh+p/i7z0jRH7JAavEBBTPxpJs7hh2j/HJtyJp3GsgeBNvI7N+AIL8TV2VZZjcXCMlktRCtiNofg9VAu8rzplgZmCd2q4rXgJqxVbcgZOYH0FU+XYXZ5BkzGClaGuGvQrTGjZqjfg2wp2U4uA+2oxB4JrBJM7iuM146NQW7Xnou8qyzn/hucrTd814Rra1wdXxoqO4mw/rDgV+yvAiziiOIbb7MNxCOgPrsNY1VF8WI7iLkytAE/gFkXmNlrO+Sd8H68/tGAuKKa7tKnBdRTzO4ov2hnMq42dhkX4o01ASilVRI+04XC+9j4vOGdXBcypgW6O4HO7BJ6vSLbRnPOlLrhfau9zqgJK+7Nh4O+4I6U0rSXwsniOdiFv6r9Y/ugoCom5ONUwcDl2YENL4PvjWebJa4oMfyJIV9f6SzsdnGd7CXhSkcVTU0o3VjtSSg/h4XidklKakXM+m3M+n3M+lXO+lHM+EXlSX94rBBxXVDLfuDrhOvgAl9c3pXRTSulFHKxh96WUJjb8iVdQFX8huJYGtwcUWToJb2j/mOyJE/BgF8xxrA3ccnzagNkbXOeD+4qjeGGX4Lsi8N4umIy3A/dyS/8i1aM4qtf92JJz/jKmvMnKfd4r40dqz6p9nHM+hi3Yn3MeK7fhNixJKQ1E56/XGbhqpcA6bgSbg2NJcBZVcZTOO/GqIkEew18tgcc7AxtwLjh2luV69SDagR9xAO8rvoRNgccjYKviwnIgOHZc7ulRlG7Az4rkWRmYR3VPwqcC1x8i1rqWorRLWT4H72FZ9D/YQ8AjgbsVt7mesrzHxWRiPO/tQn4O91TiXP/FpFamDyrWfEixdydF+yJFIfMsnglRM2PcpMAOxdhBtZqy6v/75bSngIqQ/+R6/jeT/+nWhIIUowAAAABJRU5ErkJggg==\"","import './App.css';\nimport React from 'react';\n\nimport { FilterProvider } from './context/FilterContext';\nimport { GoogleMapBoundsProvider } from './context/GoogleMapBoundsContext';\nimport { CommentProvider } from './context/CommentContext';\nimport { StarsProvider } from './context/StarsContext';\nimport { ModalProvider } from './context/ModalContext';\nimport { LoadingProvider } from './context/LoadingContext';\nimport { ClickedLatLngProvider } from './context/ClickedLatLngContext';\nimport { RestaurantListProvider } from './context/RestaurantListContext';\nimport { CurrentPositionProvider } from './context/CurrentPositionContext';\n\nimport Header from './component/Header';\nimport Filter from './component/Filter';\nimport RestaurantDisplayer from './component/RestaurantDisplayer';\nimport GoogleMapContainer from './component/GoogleMapContainer';\n\nconst App = () => (\n            <CurrentPositionProvider>\n                  <RestaurantListProvider>\n                        <ClickedLatLngProvider>\n                              <ModalProvider>\n                                    <LoadingProvider>\n                                          <StarsProvider>\n                                                <CommentProvider>      \n                                                      <FilterProvider>\n                                                            <GoogleMapBoundsProvider>\n                                                                  <div className=\"app\">\n                                                                        <div className=\"flex-col-top-center\">\n                                                                              <Header />\n                                                                              <div className=\"full-container\">\n                                                                                    <div className=\"display-container\">\n                                                                                          <div className=\"flex-col-center-center title\">\n                                                                                                <h2>Restaurants à proximité</h2>\n                                                                                                <Filter />\n                                                                                                <RestaurantDisplayer />\n                                                                                          </div>\n                                                                                    </div>\n                                                                                    <div className=\"map-container border\">\n                                                                                          <GoogleMapContainer />\n                                                                                    </div>\n                                                                              </div>\n                                                                        </div>\n                                                                  </div>\n                                                            </GoogleMapBoundsProvider>\n                                                      </FilterProvider>\n                                                </CommentProvider>\n                                          </StarsProvider>\n                                    </LoadingProvider>\n                              </ModalProvider>\n                        </ClickedLatLngProvider>\n                  </RestaurantListProvider>\n            </CurrentPositionProvider>\n      )\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}